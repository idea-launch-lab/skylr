var neo4j  = require('neo4j')
,   core   = require ('../lib/core');

var logger = core.logging.getLogger ('graph-db');
logger.info ('Initializing graph database adapter.');

exports.add = function (req, res) {    
    var db = new neo4j.GraphDatabase (core.config.graphdb.url);
    var node = db.createNode ({hello: 'world'});     // instantaneous, but...
    node.save (function (err, node) {    // ...this is what actually persists.
	if (err) {
	    res.send ('error');
	} else {
	    res.send ('saved ' + node.id);
	}
    });
};
